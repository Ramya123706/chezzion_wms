{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
  <div class="col-md-8 col-sm-12 mx-auto">
    <div class="card">
      <div class="card-header text-center text-white bg-primary">
        <h3>Putaway Task</h3>
      </div>
      <div class="card-body">
        <ul class="nav nav-tabs" id="putawayTabs" role="tablist">
          <li class="nav-item">
            <button class="nav-link active" id="hu-tab" data-bs-toggle="tab" data-bs-target="#hu" type="button">By HU</button>
          </li>
          <li class="nav-item">
            <button class="nav-link" id="warehouse-tab" data-bs-toggle="tab" data-bs-target="#warehouse" type="button">By Warehouse</button>
          </li>
          <li class="nav-item">
            <button class="nav-link" id="product-tab" data-bs-toggle="tab" data-bs-target="#product" type="button">By Product</button>
          </li>
          <li class="nav-item">
            <button class="nav-link" id="bin-tab" data-bs-toggle="tab" data-bs-target="#bin" type="button">By Bin</button>
          </li>
        </ul>

        <div class="tab-content mt-3">
          {% comment %} By HU {% endcomment %}
          <div class="tab-pane fade show active" id="hu">
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="putaway_task_type" value="Putaway by HU" />
             <div class="mb-3">
                <label><b>Pallet</b></label>
                <select name="pallet" class="form-select" required>
                  <option value="">--Select Pallet--</option>
                  {% for p in pallets %}
                  <option value="{{ p.id }}">{{ p.pallet_no }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="mb-3">
                <label><b>Source Location</b></label>
                <input type="text" name="source_location" class="form-control" required />
              </div>
              <div class="mb-3">
                <label><b>Destination Location</b></label>
                <input type="text" name="destination_location" class="form-control" required />
              </div>
              <div class="mb-3">
                <label><b>Status</b></label>
                <select name="status" class="form-select">
                  <option value="In Progress">In Progress</option>
                  <option value="Completed">Completed</option>
                </select>
              </div>
              <input type="hidden" name="putaway_id" value="{{ putaway_id }}" />
              <button type="submit" class="btn btn-primary">Submit HU</button>
            </form>
          </div>

          {% comment %} By Warehouse {% endcomment %}
          <div class="tab-pane fade" id="warehouse">
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="putaway_task_type" value="Putaway by Warehouse" />
             <div class="mb-3">
                <label><b>Pallet</b></label>
                <select name="pallet" class="form-select" required>
                  <option value="">--Select Pallet--</option>
                  {% for p in pallets %}
                  <option value="{{ p.id }}">{{ p.pallet_no }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="mb-3">
                <label><b>Source Location</b></label>
                <input type="text" name="source_location" class="form-control" required />
              </div>
              <div class="mb-3">
                <label><b>Destination Location</b></label>
                <input type="text" name="destination_location" class="form-control" required />
              </div>
              <div class="mb-3">
                <label><b>Warehouse</b></label>
                <select name="whs_no" class="form-select" required>
                  <option value="">--Select Warehouse--</option>
                  {% for wh in warehouses %}
                  <option value="{{ wh.whs_no }}">{{ wh.whs_no }} - {{ wh.whs_name }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="mb-3">
                <label><b>Status</b></label>
                <select name="status" class="form-select">
                  <option value="In Progress">In Progress</option>
                  <option value="Completed">Completed</option>
                </select>
              </div>
              <input type="hidden" name="putaway_id" value="{{ putaway_id }}" />
              <button type="submit" class="btn btn-primary">Submit Warehouse</button>
            </form>
          </div>

          {% comment %} By Product {% endcomment %}
          <div class="tab-pane fade" id="product">
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="putaway_task_type" value="Putaway by Product" />
           <div class="mb-3">
                <label><b>Pallet</b></label>
                <select name="pallet" class="form-select" required>
                  <option value="">--Select Pallet--</option>
                  {% for p in pallets %}
                  <option value="{{ p.id }}">{{ p.pallet_no }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="mb-3">
                <label><b>Source Location</b></label>
                <input type="text" name="source_location" class="form-control" required />
              </div>
              <div class="mb-3">
                <label><b>Destination Location</b></label>
                <input type="text" name="destination_location" class="form-control" required />
              </div>
              <div class="mb-3">
                <label><b>Product</b></label>
                <select name="product" class="form-select" required>
                  <option value="">--Select Product--</option>
                  {% for prod in products %}
                  <option value="{{ prod.product_id }}">{{ prod.name }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="mb-3">
                <label><b>Status</b></label>
                <select name="status" class="form-select">
                  <option value="In Progress">In Progress</option>
                  <option value="Completed">Completed</option>
                </select>
              </div>
              <input type="hidden" name="putaway_id" value="{{ putaway_id }}" />
              <button type="submit" class="btn btn-primary">Submit Product</button>
            </form>
          </div>

          {% comment %} By Bin {% endcomment %}
          <div class="tab-pane fade" id="bin">
            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="putaway_task_type" value="Putaway by Bin" />
              <div class="mb-3">
                <label><b>Pallet</b></label>
                <select name="pallet" class="form-select" required>
                  <option value="">--Select Pallet--</option>
                  {% for p in pallets %}
                  <option value="{{ p.id }}">{{ p.pallet_no }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="mb-3">
                <label><b>Source Location</b></label>
                <input type="text" name="source_location" class="form-control" required />
              </div>
              <div class="mb-3">
                <label><b>Destination Location</b></label>
                <input type="text" name="destination_location" class="form-control" required />
              </div>
              <div class="mb-3">
                <label><b>Bin</b></label>
                <select name="bin" class="form-select" required>
                  <option value="">--Select Bin--</option>
                  {% for b in bins %}
                  <option value="{{ b.id }}">{{ b.bin_type }}-{{ b.bin_id }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="mb-3">
                <label><b>Status</b></label>
                <select name="status" class="form-select">
                  <option value="In Progress">In Progress</option>
                  <option value="Completed">Completed</option>
                </select>
              </div>
              <input type="hidden" name="putaway_id" value="{{ putaway_id }}" />
              <button type="submit" class="btn btn-primary">Submit Bin</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
