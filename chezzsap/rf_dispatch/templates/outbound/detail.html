{% extends "base.html" %}
{% block content %}
<div class="container py-5">
    <div class="card mx-auto shadow-lg p-4" style="max-width: 1000px;">

        <!-- Header -->
        <div class="card-header text-center bg-primary text-white">
            <h5>Outbound Delivery ({{ outbound.dlv_no }})</h5>
        </div>

        <!-- Delivery Header Info -->
        <table class="table table-bordered mb-4">
            <tbody>
                <tr>
                    <th>Sales Order</th>
                    <td>{{ outbound.so_no }}</td>
                </tr>
                <tr>
                    <th>Warehouse No</th>
                    <td>{{ outbound.whs_no }}</td>
                </tr>
                <tr>
                    <th>Warehouse Address</th>
                    <td>{{ outbound.whs_address }}</td>
                </tr>
                <tr>
                    <th>Order Date</th>
                    <td>{{ outbound.ord_date }}</td>
                </tr>
                <tr>
                    <th>Delivery Date</th>
                    <td>{{ outbound.del_date }}</td>
                </tr>
                <tr>
                    <th>Sold To</th>
                    <td>{{ outbound.sold_to }}</td>
                </tr>
                <tr>
                    <th>Ship To</th>
                    <td>{{ outbound.ship_to }}</td>
                </tr>
                <tr>
                    <th>Customer Ref</th>
                    <td>{{ outbound.cust_ref }}</td>
                </tr>
            </tbody>
        </table>

        <!-- Line Items -->
        <h6 class="mt-3">Delivery Items</h6>
        <table class="table table-bordered">
            <thead class="table-dark">
                <tr>
                    <th>Item No</th>
                    <th>Product</th>
                    <th>Qty Ordered</th>
                    <th>Qty Issued</th>
                    <th>Unit Price</th>
                    <th>Total Price</th>
                    <th>Net Price</th>
                    <th>Volume/Item</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td>{{ item.dlv_it_no }}</td>
                    <td>{{ item.product_name }}</td>
                    <td>{{ item.qty_order }}</td>
                    <td>{{ item.qty_issued }}</td>
                    <td>{{ item.unit_price }}</td>
                    <td>{{ item.unit_total_price }}</td>
                    <td>{{ item.net_total_price }}</td>
                    <td>{{ item.vol_per_item }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8" class="text-center">No items found for this delivery</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <!-- Buttons -->
        <div class="text-center mt-4">
            <a href="{% url 'outbound' %}" class="btn btn-secondary">Back</a>
        </div>

    </div>
</div>
{% endblock %}